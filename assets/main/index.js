System.register("chunks:///_virtual/Bar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,r,e,n,o,a,c,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Vec3,s=t.Component}],execute:function(){var l,u,p,f,g;o._RF.push({},"880f08JWPlJU5oXSNBqp+00","Bar",void 0);var h=a.ccclass,y=a.property;t("Bar",(l=h("Bar"),u=y(c),l((g=i((f=function(t){function i(){for(var i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(i,"originalPosition",g,n(i)),i}r(i,t);var o=i.prototype;return o.start=function(){this.node.getPosition(this.originalPosition)},o.update=function(t){},i}(s)).prototype,"originalPosition",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Button.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,c,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,c=t.Node,i=t.Component}],execute:function(){var s,u;o._RF.push({},"e7326ATGOdJervoY10k95mb","Button",void 0);var h=e.ccclass;e.property,t("Button",h("Button")(((u=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.start=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.onTouchStart=function(t){this.node.setScale(o.SCALE,o.SCALE)},e.onTouchMove=function(t){},e.onTouchEnd=function(t){this.node.setScale(1,1)},e.onTouchCancel=function(t){this.node.setScale(1,1)},e.update=function(t){},o}(i)).SCALE=.95,s=u))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Bar.ts","./Button.ts","./Main.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bar.ts"],(function(t){var e,r,n,a,o,i,l,s,u,c,h,p,b,f,B,g,d,m,y,v,C,P,w,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Node,h=t.Prefab,p=t.instantiate,b=t.RichText,f=t.Tween,B=t.RigidBody2D,g=t.Vec2,d=t.HingeJoint2D,m=t.tween,y=t.Vec3,v=t.Component,C=t.Label,P=t.Contact2DType,w=t.Collider2D},function(t){x=t.Bar}],execute:function(){var M,R,T,D,k,z,G,A,L,N,E,_,O,H,F,I,V,S,K;s._RF.push({},"8b35dAHiRVGuKKvbz/TtxfV","Main",void 0);var U=u.ccclass,W=u.property,j=.45;t("Main",(M=U("Main"),R=W(c),T=W(c),D=W(c),k=W(h),z=W(c),G=W(c),A=W(c),L=W(c),M((_=e((E=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).targetBall=null,e.abortController=new AbortController,e.isPlaying=!1,a(e,"ResetButton",_,o(e)),a(e,"PlayButton",O,o(e)),a(e,"Balls",H,o(e)),a(e,"ball",F,o(e)),a(e,"Bar",I,o(e)),a(e,"Bottom",V,o(e)),a(e,"DashBoard",S,o(e)),a(e,"Popup",K,o(e)),e}r(e,t);var s=e.prototype;return s.start=function(){this.ResetButton.on(c.EventType.TOUCH_END,this.resetGame,this),this.PlayButton.on(c.EventType.TOUCH_END,this.playGame,this),this.createGame()},s.createBall=function(t){var e=p(this.ball);e.setPosition(Math.random(),Math.random()),e.setScale(j,j),this.Balls.addChild(e),e.getChildByName("Label").getComponent(b).string="<u>"+t+"</u>"},s.createGame=function(){for(var t=this,e=function(e){t.scheduleOnce((function(){return t.createBall(e)}),.01*e)},r=1;r<=20;++r)e(r)},s.resetGame=function(){this.Popup.active=!1,this.abortController.abort(),this.Balls.destroyAllChildren(),this.DashBoard.destroyAllChildren(),f.stopAll(),this.barReset(this.Bar),this.barReset(this.Bottom),this.createGame(),this.abortController=new AbortController,this.isPlaying=!1},s.disturbBalls=function(t){var e=this;return new Promise((function(r,a){e.abortController.signal.addEventListener("abort",(function(){a(new Error("Restart"))}));for(var o,i=n(e.Balls.children);!(o=i()).done;){var l=o.value.getComponent(B),s=2*Math.random()*Math.PI,u=new g(Math.sin(s),Math.cos(s)).multiplyScalar(1e3*t);l.applyForceToCenter(u,!0)}e.scheduleOnce(r,.1)}))},s.adsorbBall=function(t,e,r){this.targetBall=e.node;var n=t.addComponent(d);n.connectedBody=e.getComponent(B),n.anchor=new g(0,22.5)},s.barMoveLeft=function(t){return new Promise((function(e){m(t).by(.5,{position:new y(-20,0,0)}).call((function(){return e()})).start()}))},s.barMoveRight=function(t){return new Promise((function(e){f.stopAllByTarget(t);var r=t.getComponent(x);m(t).to(.5,{position:r.originalPosition}).call((function(){return e()})).start()}))},s.barReset=function(t){var e=t.getComponent(x);t.setPosition(e.originalPosition)},s.playGame=function(){var t=i(l().mark((function t(){var e,r,n,a,o,i,s,u=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isPlaying){t.next=2;break}return t.abrupt("return");case 2:this.isPlaying=!0,t.prev=3,e=this.Bottom.getComponent(w),r=1;case 6:if(!(r<=5)){t.next=46;break}n=1;case 8:if(!(n<=10)){t.next=14;break}return t.next=11,this.disturbBalls(n);case 11:++n,t.next=8;break;case 14:return e.on(P.BEGIN_CONTACT,this.adsorbBall,this),t.next=17,this.barMoveLeft(this.Bar);case 17:if(this.targetBall){t.next=22;break}return t.next=20,this.disturbBalls(1);case 20:t.next=17;break;case 22:return t.next=24,this.barMoveRight(this.Bar);case 24:return e.off(P.BEGIN_CONTACT,this.adsorbBall,this),(a=this.Bottom.getComponent(d))&&(a.connectedBody=null,a.destroy()),t.next=29,this.barMoveLeft(this.Bottom);case 29:return t.next=31,new Promise((function(t){m(u.Bottom).delay(.5).call((function(){return t()})).start()}));case 31:return t.next=33,this.barMoveRight(this.Bottom);case 33:o=new y,this.targetBall.getWorldPosition(o),this.targetBall.removeFromParent(),this.targetBall.setParent(this.DashBoard),this.targetBall.setWorldPosition(o),i=this.DashBoard.getComponent(C),s=this.targetBall.getChildByName("Label").getComponent(b),i.string+=" "+s.string.replace(/<\/?u>/g,"")+" ",this.targetBall=null,console.log(this.DashBoard);case 43:++r,t.next=6;break;case 46:this.Popup.active=!0,t.next=56;break;case 49:if(t.prev=49,t.t0=t.catch(3),"Restart"!=t.t0.message){t.next=55;break}console.log(t.t0.message),t.next=56;break;case 55:throw t.t0;case 56:return t.prev=56,t.finish(56);case 58:case"end":return t.stop()}}),t,this,[[3,49,56,58]])})));return function(){return t.apply(this,arguments)}}(),s.update=function(t){},e}(v)).prototype,"ResetButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(E.prototype,"PlayButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(E.prototype,"Balls",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(E.prototype,"ball",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(E.prototype,"Bar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(E.prototype,"Bottom",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(E.prototype,"DashBoard",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(E.prototype,"Popup",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=E))||N));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});